'use strict';

window.onload = function () {

  function playSoundAndEffect(e) {
    var audio = document.querySelector('audio[data-key="' + e.keyCode + '"]');
    var key = document.querySelector('.key[data-key="' + e.keyCode + '"]');
    if (!audio) return; // Do nothing if audio not found
    audio.currentTime = 0; // Reset the audio if it's already playing
    audio.play();
    key.classList.add('playing');
  }

  var keys = document.querySelectorAll('.key');

  keys.forEach(function (key) {
    return key.addEventListener('transitionend', removeEffect);
  });

  function removeEffect(e) {
    if (e.propertyName !== "transform") return;
    this.classList.remove('playing');
  }

  window.addEventListener('keydown', playSoundAndEffect);
};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwicGxheVNvdW5kQW5kRWZmZWN0IiwiZSIsImF1ZGlvIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwia2V5Q29kZSIsImtleSIsImN1cnJlbnRUaW1lIiwicGxheSIsImNsYXNzTGlzdCIsImFkZCIsImtleXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFZmZlY3QiLCJwcm9wZXJ0eU5hbWUiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU9DLE1BQVAsR0FBZ0IsWUFBVzs7QUFFekIsV0FBU0Msa0JBQVQsQ0FBNEJDLENBQTVCLEVBQThCO0FBQzVCLFFBQU1DLFFBQVFDLFNBQVNDLGFBQVQsc0JBQTBDSCxFQUFFSSxPQUE1QyxRQUFkO0FBQ0EsUUFBTUMsTUFBTUgsU0FBU0MsYUFBVCxxQkFBeUNILEVBQUVJLE9BQTNDLFFBQVo7QUFDQSxRQUFHLENBQUNILEtBQUosRUFBVyxPQUhpQixDQUdUO0FBQ25CQSxVQUFNSyxXQUFOLEdBQW9CLENBQXBCLENBSjRCLENBSUw7QUFDdkJMLFVBQU1NLElBQU47QUFDQUYsUUFBSUcsU0FBSixDQUFjQyxHQUFkLENBQWtCLFNBQWxCO0FBQ0Q7O0FBRUQsTUFBTUMsT0FBT1IsU0FBU1MsZ0JBQVQsQ0FBMEIsTUFBMUIsQ0FBYjs7QUFFQUQsT0FBS0UsT0FBTCxDQUFhO0FBQUEsV0FBT1AsSUFBSVEsZ0JBQUosQ0FBcUIsZUFBckIsRUFBc0NDLFlBQXRDLENBQVA7QUFBQSxHQUFiOztBQUVBLFdBQVNBLFlBQVQsQ0FBc0JkLENBQXRCLEVBQXlCO0FBQ3ZCLFFBQUdBLEVBQUVlLFlBQUYsS0FBbUIsV0FBdEIsRUFBbUM7QUFDbkMsU0FBS1AsU0FBTCxDQUFlUSxNQUFmLENBQXNCLFNBQXRCO0FBQ0Q7O0FBRURuQixTQUFPZ0IsZ0JBQVAsQ0FBd0IsU0FBeEIsRUFBbUNkLGtCQUFuQztBQUdELENBdkJEIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gcGxheVNvdW5kQW5kRWZmZWN0KGUpe1xuICAgIGNvbnN0IGF1ZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgYXVkaW9bZGF0YS1rZXk9XCIke2Uua2V5Q29kZX1cIl1gKTtcbiAgICBjb25zdCBrZXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAua2V5W2RhdGEta2V5PVwiJHtlLmtleUNvZGV9XCJdYCk7XG4gICAgaWYoIWF1ZGlvKSByZXR1cm47IC8vIERvIG5vdGhpbmcgaWYgYXVkaW8gbm90IGZvdW5kXG4gICAgYXVkaW8uY3VycmVudFRpbWUgPSAwOyAvLyBSZXNldCB0aGUgYXVkaW8gaWYgaXQncyBhbHJlYWR5IHBsYXlpbmdcbiAgICBhdWRpby5wbGF5KCk7XG4gICAga2V5LmNsYXNzTGlzdC5hZGQoJ3BsYXlpbmcnKVxuICB9XG5cbiAgY29uc3Qga2V5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5rZXknKTtcblxuICBrZXlzLmZvckVhY2goa2V5ID0+IGtleS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgcmVtb3ZlRWZmZWN0KSlcblxuICBmdW5jdGlvbiByZW1vdmVFZmZlY3QoZSkge1xuICAgIGlmKGUucHJvcGVydHlOYW1lICE9PSBcInRyYW5zZm9ybVwiKSByZXR1cm47XG4gICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdwbGF5aW5nJyk7XG4gIH1cblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHBsYXlTb3VuZEFuZEVmZmVjdCk7XG5cblxufTtcbiJdfQ==
